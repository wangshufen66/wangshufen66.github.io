(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{437:function(a,s,t){"use strict";t.r(s);var e=t(9),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[a._v("#")]),a._v(" å‰è¨€")]),a._v(" "),s("p",[a._v("æœ¬ç¯‡æ–‡ç« ä¸ä¼šæ¶‰åŠå¦‚ä½•å®‰è£… docker å’Œ docker-composeï¼Œä»¥åŠå¦‚ä½•è·å– Clash é…ç½®æ–‡ä»¶ï¼Œä»¥ä¸Šéƒ¨åˆ†è¯·è‡ªè¡Œè§£å†³ã€‚")]),a._v(" "),s("p",[s("em",[a._v("æ¶‰åŠå·¥å…·ï¼š")])]),a._v(" "),s("ul",[s("li",[a._v("docker")]),a._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/docker/compose",target:"_blank",rel:"noopener noreferrer"}},[a._v("docker-compose")])]),a._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/Dreamacro/clash/wiki",target:"_blank",rel:"noopener noreferrer"}},[a._v("Dreamacro/clash")])]),a._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/haishanh/yacd",target:"_blank",rel:"noopener noreferrer"}},[a._v("haishanh/yacd")])])]),a._v(" "),s("h2",{attrs:{id:"æ­¥éª¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤"}},[a._v("#")]),a._v(" æ­¥éª¤")]),a._v(" "),s("h3",{attrs:{id:"_1-å‡†å¤‡-clash-é…ç½®æ–‡ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å‡†å¤‡-clash-é…ç½®æ–‡ä»¶"}},[a._v("#")]),a._v(" 1.å‡†å¤‡ Clash é…ç½®æ–‡ä»¶")]),a._v(" "),s("p",[a._v("åœ¨è·å–åˆ° Clash é…ç½®æ–‡ä»¶ï¼ˆ"),s("code",[a._v("config.yaml")]),a._v("ï¼‰åï¼Œéœ€è¦ç¡®è®¤ä»¥ä¸‹é…ç½®ï¼š")]),a._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# config.yaml")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7890")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("socks-port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7891")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("allow-lan")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("external-controller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 0.0.0.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9090")]),a._v("\n")])])]),s("div",{staticClass:"custom-block info"},[s("p",{staticClass:"custom-block-title"},[a._v("INFO")]),a._v(" "),s("p",[s("code",[a._v("7890")]),a._v(" ä¸º "),s("code",[a._v("http/https")]),a._v(" ç›‘å¬ç«¯å£ï¼Œ"),s("code",[a._v("7891")]),a._v(" ä¸º "),s("code",[a._v("socks5")]),a._v(" ç›‘å¬ç«¯å£ï¼Œ"),s("code",[a._v("9090")]),a._v(" ä¸º UI ç›‘å¬ç«¯å£ï¼Œ"),s("code",[a._v("allow-lan")]),a._v(" ä¸ºå…è®¸å±€åŸŸç½‘è®¿é—®ã€‚")])]),a._v(" "),s("h3",{attrs:{id:"_2-åˆ›å»ºå¹¶è¿è¡Œ-container"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆ›å»ºå¹¶è¿è¡Œ-container"}},[a._v("#")]),a._v(" 2.åˆ›å»ºå¹¶è¿è¡Œ Container")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# è¿è¡Œ Clash")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" ~/clash\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" ./config.yaml ~/clash/ "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# config.yaml æ˜¯ Clash çš„é…ç½®æ–‡ä»¶")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" clash "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5090")]),a._v(":9090 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5890")]),a._v(":7890 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5891")]),a._v(":7891 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" ~/clash/config.yaml:/root/.config/clash/config.yaml "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" dreamacro/clash\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),s("p",[a._v("å¦‚æœä¿®æ”¹è¿‡ "),s("code",[a._v("config.yaml")]),a._v(" ä¸­ç›¸å…³ç«¯å£çš„é…ç½®ï¼Œè¯·ç¡®ä¿ä»¥ä¸Šç«¯å£å’Œ "),s("code",[a._v("config.yaml")]),a._v(" ä¸­çš„ç«¯å£å¯¹åº”ã€‚")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# è¿è¡Œ Clash UI")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" clash-ui "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5080")]),a._v(":80 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" haishanh/yacd\n")])])]),s("p",[a._v("ğŸš€ å¦‚æœé¡ºåˆ©å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼Œé‚£ä¹ˆ Clash å’Œ Clash UI å°±å·²ç»æˆåŠŸè¿è¡Œäº†ã€‚")]),a._v(" "),s("h3",{attrs:{id:"_3-é€šè¿‡-clash-ui-ç®¡ç†ã€ç›‘æ§-clash-æœåŠ¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-é€šè¿‡-clash-ui-ç®¡ç†ã€ç›‘æ§-clash-æœåŠ¡"}},[a._v("#")]),a._v(" 3.é€šè¿‡ Clash UI ç®¡ç†ã€ç›‘æ§ Clash æœåŠ¡")]),a._v(" "),s("p",[a._v("ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€åœ°å€ï¼š"),s("code",[a._v("http://[ä¸»æœºIP]:5080")]),a._v("ï¼Œç„¶ååœ¨è¾“å…¥æ¡†å†…è¾“å…¥ "),s("code",[a._v("http://[ä¸»æœºIP]:5090")]),a._v("ï¼Œå†ç‚¹å‡» "),s("code",[a._v("ADD")]),a._v(" æŒ‰é’®ï¼Œç„¶åç‚¹å‡»ä¸‹æ–¹æ–°å¢çš„ "),s("code",[a._v("http://[ä¸»æœºIP]:5090")]),a._v(" é“¾æ¥è¿›å…¥ç›‘æ§ç•Œé¢ã€‚")]),a._v(" "),s("p",[s("img",{attrs:{src:"/img/in-post/2022-06-24/clash-ui.png",alt:""}}),a._v(" "),s("img",{attrs:{src:"/img/in-post/2022-06-24/clash-dashboard.png",alt:""}})]),a._v(" "),s("h3",{attrs:{id:"_4-ä½¿ç”¨-docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ä½¿ç”¨-docker-compose"}},[a._v("#")]),a._v(" 4.ä½¿ç”¨ docker-compose")]),a._v(" "),s("p",[a._v("å¦‚æœè§‰å¾—ä¸Šé¢æ‰‹åŠ¨æ•²å‘½ä»¤è¡Œçš„æ–¹å¼å¤ªéº»çƒ¦ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[a._v("docker-compose")]),a._v(" æ¥è¿è¡Œ Clash å’Œ Clash UIã€‚")]),a._v(" "),s("p",[a._v("æ ¹æ® "),s("a",{attrs:{href:"#_1-%E5%87%86%E5%A4%87-clash-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"}},[a._v("æ­¥éª¤1")]),a._v(" å‡†å¤‡å¥½ Clash çš„é…ç½®æ–‡ä»¶ "),s("code",[a._v("config.yaml")]),a._v(" åï¼Œåœ¨ "),s("code",[a._v("config.yaml")]),a._v(" çš„åŒçº§ç›®å½•ä¸‹åˆ›å»º "),s("code",[a._v("docker-compose.yml")]),a._v(" æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š")]),a._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# docker-compose.yml")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3.7'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("clash-server")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" dreamacro/clash\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" clash\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"5090:9090"')]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"5890:7890"')]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"5891:7891"')]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" ./config.yaml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/root/.config/clash/config.yaml\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("clash-ui")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" haishanh/yacd\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" clash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("ui\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 5080"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("\n")])])]),s("p",[a._v("ç„¶ååœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š"),s("code",[a._v("docker-compose up -d")]),a._v(" å³å¯åˆ›å»ºå¹¶è¿è¡Œ Clash å’Œ Clash UI äº†ã€‚")]),a._v(" "),s("h2",{attrs:{id:"references"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[a._v("#")]),a._v(" References")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://roov.org/2020/07/docker-clash-ui/",target:"_blank",rel:"noopener noreferrer"}},[s("em",[a._v("ç¾¤æ™–dockerå®‰è£…å¹¶è¿è¡ŒClash+UI")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);